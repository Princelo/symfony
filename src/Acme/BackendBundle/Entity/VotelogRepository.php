<?php

namespace Acme\BackendBundle\Entity;

use Doctrine\ORM\EntityRepository;

/**
 * VotelogRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class VotelogRepository extends EntityRepository
{

    public function getArrVotedList($intTermNo, $intMemberId, $strSortType)
    {
        return $this->getEntityManager()
            ->createQuery(
                "
                SELECT v.intSongId sid
                FROM AcmeBackendBundle:Votelog v
                WHERE v.intTermNo = {$intTermNo}
                    AND v.intMemberId = {$intMemberId}
                ORDER BY v.intIndex {$strSortType}
            "
            )
            ->getResult();
    }


}
